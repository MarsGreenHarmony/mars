<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.himedia.sn.ecommerce5th.mars.greenharmony.front.pay.mapper.PayMapper">

<select id="select" parameterType="PayDto" resultType="PayDto">
		SELECT
			SEQ_MST
		FROM
			PAY
		WHERE
			DEAL_NUM = #{deal_num}
	</select>
	
	<update id="update" parameterType="PayDto">
		UPDATE
			PAY
		SET
			FLG_SUCCESS	= #{flg_success}
		WHERE
			DEAL_NUM	= #{deal_num}
	</update>

	<insert id="insert" parameterType="PayDto">
		INSERT INTO PAY
			(SEQ_PAY, SEQ_MST, DEAL_NUM, CD_PAY_METHOD, DT_REG, REGISTER)
		VALUES	
			(#{seq_pay}, #{seq_mst}, #{deal_num}, 'CARD', SYSDATE, #{register})
	</insert>
	
	<select id="sequence" resultType="java.lang.Integer">
		SELECT SQ_SEQ_PAY.NEXTVAL FROM DUAL
	</select>
	
	
</mapper>